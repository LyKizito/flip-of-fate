<!-- Flip of Fate: a playful math-meets-romance coin flip by Lyon -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flip of Fate</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'Poppins',sans-serif;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  position:relative;
}
.screen{
  position:absolute;width:100%;height:100vh;
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  padding:2rem;text-align:center;
  opacity:0;pointer-events:none;
  transition:opacity .8s ease;
}
.screen.active{opacity:1;pointer-events:auto}
#intro-screen{background:linear-gradient(135deg,#e0c3fc 0%,#8ec5fc 100%)}
.intro-title{
  font-size:3rem;font-weight:600;color:#fff;
  text-shadow:2px 2px 10px rgba(0,0,0,.1);
  overflow:hidden;border-right:3px solid #fff;
  white-space:nowrap;
  animation:typing 2s steps(11,end) forwards,blink .7s step-end infinite;
}
@keyframes typing{from{width:0}to{width:100%}}
@keyframes blink{50%{border-color:transparent}}
#screen1{background:linear-gradient(135deg,#e0c3fc 0%,#ffdee9 100%)}
.compliment-text{
  max-width:600px;font-size:1.4rem;line-height:1.8;
  color:#5a4a7f;margin-bottom:2rem;animation:fadeInUp 1s ease;
}
@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.btn{
  padding:1rem 2.5rem;font-size:1.2rem;font-weight:600;color:#fff;
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  border:none;border-radius:50px;cursor:pointer;
  box-shadow:0 10px 30px rgba(102,126,234,.4);
  transition:all .3s ease;font-family:'Poppins',sans-serif;
}
.btn:hover{transform:translateY(-3px);box-shadow:0 15px 40px rgba(102,126,234,.6)}
.btn:active{transform:translateY(-1px)}
.btn:disabled{opacity:.5;cursor:not-allowed}

/* SCREEN 2 */
#screen2{
  background:linear-gradient(135deg,#fda085 0%,#a18cd1 100%);
  display:flex;flex-direction:column;
  justify-content:center;align-items:center;
  text-align:center;padding:3rem 1.5rem;
}
.flip-title{
  font-size:2rem;color:#fff;margin-bottom:1rem;
  text-shadow:2px 2px 10px rgba(0,0,0,.2);
  animation:fadeInUp .8s ease;
}
.flip-rules{
  font-size:1.3rem;color:#fff;margin-bottom:2rem;line-height:2;
  text-shadow:1px 1px 5px rgba(0,0,0,.2);
  animation:fadeInUp .8s ease .2s backwards;
}
.coin-container{perspective:1000px;margin-bottom:2.5rem;display:flex;justify-content:center;align-items:center}
.coin{
  width:200px;height:200px;position:relative;
  transform-style:preserve-3d;
  transition:transform 1.5s cubic-bezier(0.68,-0.55,0.265,1.55);
}
.coin-face{
  width:200px;height:200px;border-radius:50%;position:absolute;
  backface-visibility:hidden;display:flex;justify-content:center;align-items:center;
  font-size:5rem;box-shadow:0 10px 40px rgba(0,0,0,.3);
  background:linear-gradient(145deg,#ffd700,#ffed4e);border:8px solid #f0c800;
}
.coin-back{transform:rotateY(180deg)}
.result-text{
  font-size:2.3rem;font-weight:600;color:#fff;margin-top:1.5rem;
  margin-bottom:1rem;min-height:3rem;text-shadow:2px 2px 10px rgba(0,0,0,.3);
  opacity:0;transition:opacity .5s ease;
}
.result-text.show{opacity:1;animation:pulseIn .6s ease}
@keyframes pulseIn{0%{transform:scale(.8);opacity:0}50%{transform:scale(1.1)}100%{transform:scale(1);opacity:1}}

/* SCREEN 3 */
#screen3{background:linear-gradient(135deg,#ffecd2 0%,#fcb69f 100%)}
.message-text{
  max-width:600px;font-size:1.5rem;line-height:1.8;color:#7f4a4a;margin-bottom:1rem;animation:fadeInScale .8s ease;
}
.message-subtext{
  max-width:600px;font-size:1.2rem;line-height:1.6;color:#9f6a6a;margin-bottom:2rem;animation:fadeInScale .8s ease .3s backwards;
}
@keyframes fadeInScale{from{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}
.sparkle{position:absolute;width:4px;height:4px;background:white;border-radius:50%;opacity:0;animation:sparkleFloat 3s infinite}
@keyframes sparkleFloat{0%,100%{opacity:0;transform:translateY(0) scale(0)}50%{opacity:1;transform:translateY(-100px) scale(1)}}
.signature-container{margin-top:40px;text-align:center;font-family:'Dancing Script',cursive;color:rgba(127,74,74,.6);font-size:1.5rem}
.typed-signature{display:inline-block;border-right:2px solid rgba(127,74,74,.4);white-space:nowrap;overflow:hidden;width:0;animation:typingSignature 2s steps(7,end) 1s forwards,blinkSignature .7s step-end infinite}
@keyframes typingSignature{from{width:0}to{width:5.5ch}}
@keyframes blinkSignature{50%{border-color:transparent}}

/* üì± MOBILE FIX */
@media(max-width:768px){
  body{overflow:auto}
  #screen2{
    padding:2rem 1rem 3rem;
    justify-content:flex-start;
    min-height:100vh;
  }
  .flip-title{font-size:1.4rem;line-height:1.4;margin-top:1.5rem}
  .flip-rules{font-size:1.1rem;line-height:1.5;margin-bottom:1.5rem}
  .coin,.coin-face{width:140px;height:140px}
  .coin-face{font-size:3.5rem}
  .result-text{font-size:1.7rem}
  .btn{padding:.8rem 2rem;font-size:1rem;margin-top:.5rem}
}
</style>
</head>
<body>
<!-- INTRO -->
<div id="intro-screen" class="screen active"><div class="intro-title">Flip of Fate</div></div>

<!-- SCREEN 1 -->
<div id="screen1" class="screen">
  <p class="compliment-text">
    Oh, and btw‚Ä¶ that smile? Yeah, it kind of ruins my focus. üòä
  </p>
  <button class="btn" id="continueBtn">Continue ‚û°Ô∏è</button>
</div>

<!-- SCREEN 2 -->
<div id="screen2" class="screen">
  <h2 class="flip-title">So I built this coin flip to see if I should say hi again üòÖ...</h2>
  <p class="flip-rules">‚ù§Ô∏è Heads = The coin's got good taste üòé<br>‚àû Tails = Fate is playing hard to get, but okay üíÄ</p>
  <div class="coin-container">
    <div class="coin" id="coin">
      <div class="coin-face coin-front">‚ù§Ô∏è</div>
      <div class="coin-face coin-back">‚àû</div>
    </div>
  </div>
  <div class="result-text" id="resultText"></div>
  <button class="btn" id="flipBtn">Flip Coin ü™ô</button>
  <button class="btn" id="reflipBtn" style="display:none;">Reflip üîÅ</button>
</div>

<!-- SCREEN 3 -->
<div id="screen3" class="screen">
  <p class="message-text" id="message-main"></p>
  <p class="message-subtext" id="message-sub"></p>
  <button class="btn" onclick="window.open('https://wa.me/254717405350?text=Hi Lyon!','_blank')">Text me your result üëÄ</button>
  <button class="btn" id="replayBtn" style="margin-top:20px;">Replay üîÑ</button>
  <div class="signature-container"><span class="typed-signature">‚Äî Lyon</span></div>
</div>

<script>
let flipResult=null,rotation=0;
// sparkles
for(let i=0;i<30;i++){const s=document.createElement('div');s.className='sparkle';s.style.left=Math.random()*100+'%';s.style.animationDelay=Math.random()*3+'s';document.body.appendChild(s);}
setTimeout(()=>{document.getElementById('intro-screen').classList.remove('active');setTimeout(()=>document.getElementById('screen1').classList.add('active'),800)},3000);
document.getElementById('continueBtn').onclick=()=>{document.getElementById('screen1').classList.remove('active');setTimeout(()=>document.getElementById('screen2').classList.add('active'),800)};
document.getElementById('flipBtn').onclick=()=>flipCoin();
function flipCoin(){
  const coin=document.getElementById('coin'),flipBtn=document.getElementById('flipBtn'),reflipBtn=document.getElementById('reflipBtn'),resultText=document.getElementById('resultText');
  flipBtn.disabled=true;resultText.classList.remove('show');reflipBtn.style.display="none";
  const isHeads=Math.random()<0.5;flipResult=isHeads?'heads':'tails';rotation+=1800+(isHeads?0:180);
  coin.style.transform=`rotateY(${rotation}deg)`;
  setTimeout(()=>{
    resultText.textContent=isHeads?'‚ù§Ô∏è Heads!':'‚àû Tails!';
    resultText.classList.add('show');flipBtn.disabled=false;reflipBtn.style.display="inline-block";
    setTimeout(()=>{
      document.getElementById('screen2').classList.remove('active');
      setTimeout(()=>{showResult();document.getElementById('screen3').classList.add('active')},800);
    },2500);
  },1500);
}
document.getElementById('reflipBtn').onclick=()=>flipCoin();
document.getElementById('replayBtn').onclick=()=>{
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  rotation=0;document.getElementById('coin').style.transform='rotateY(0deg)';
  document.getElementById('resultText').textContent='';document.getElementById('reflipBtn').style.display='none';
  document.getElementById('intro-screen').classList.add('active');
  setTimeout(()=>{document.getElementById('intro-screen').classList.remove('active');setTimeout(()=>document.getElementById('screen1').classList.add('active'),800)},3000);
};
function showResult(){
  const main=document.getElementById('message-main'),sub=document.getElementById('message-sub');
  if(flipResult==='heads'){main.textContent="Looks like fate said yes. Hi Nicole, again üòå";sub.textContent="";}
  else{main.textContent="Well‚Ä¶ the coin says no, but I don't always listen to coins anyway üòâ. Hi Miss Katona!";sub.textContent="";}
}
</script>
</body>
</html>



